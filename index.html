<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script>
		window.addEventListener('load',function(){
			window.addEventListener('scroll',function(){
				useragent=navigator.userAgent;
				user=new RegExp("Chrome/61.0.3163.100");
				console.log(user);
				if(user.test(useragent)){
					percent=document.documentElement.scrollTop/(document.documentElement.scrollHeight-document.documentElement.clientHeight);
					console.log(percent);
					process.style.width=(d1.clientWidth*percent)+'px';
				}else{
					percent=b.scrollTop/(b.scrollHeight-document.documentElement.clientHeight);
					console.log(percent);
					process.style.width=(d1.clientWidth*percent)+'px';
				}
			})
		});
	</script>
</head>
<body style="height:1800px;" id="b">
	<div style="background:#fff;border:1px solid #000;width:666px;height:10px;position:fixed;left:550px;top:30px;" id="d1">
		<div style="background:red;width:0px;height:10px;" id="process"></div>		
	</div>
	211111111111111111111111111111111111111<br>1111111111111111111111111111111111111111<br>11111111111111111111111111111111111111111111111111111111111<br>11111111111111111111111111111111<br>11111111111111111111111111111111111111111<br>11111111111111111111111111111111111111111111111111111111111111<br>11111111111111111<br>11111111111111111111111111111111111111111<br>11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111<br>11111111111111111111111111111111111111<br>1111111111111111111111111111111111111111<br>1111111111111111111111111111111111<br>111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111<br><br>11111111111111111111111111<br>1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111<br>11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111<br>1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
</body>
</html>